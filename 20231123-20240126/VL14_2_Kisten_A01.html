<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Vorlage für three.js-Projekt</title>
  <script src="three.min.js"></script>
</head>

<body>
  <button onclick="start()" type="button" id="start" style="
    position: absolute;
    display: block;
    z-index: 99;
    left: 50%;
    top: 50%;
    ">Click Me!</button>
	<p id = "Hinweis"> 
	Kopieren Sie diese Datei und speichern Sie unter neuem Namen ab. 
	Anschließend geben Sie unten in der .html-Datei den Java-Script Code 
	für Ihr Projekt ein. Sie können diesen Absatz auch löschen.</p>
	
	<div id="myCanvas"> </div>
  
  <p id = "Hinweis2"> 
  Hier kommt noch ein Text.</p>

</body>


<script>

// Hier ist die Szenerie, in der sich alles abspielt:
    
  	var scene = new THREE.Scene();
    
    scene.background = new THREE.Color( 0xffffff );
    function start() {
      console.log("Click")
      // todo
    }

// Hier steht die Kamera:
  	var aspect_ratio = window.innerWidth / window.innerHeight;
  
  	var camera = new THREE.PerspectiveCamera(75, aspect_ratio, 1, 10000);

    camera.position.set(0,0,500); //500
  	scene.add(camera);

// Hier ist der Stift, der in die Szenerie malt:
  	var renderer = new THREE.WebGLRenderer();
  	renderer.setSize(window.innerWidth, window.innerHeight);
  	document.getElementById('myCanvas').
  	appendChild(renderer.domElement);

// ******** Ab hier geben wir unser Projekt ein ********

  var shape = new THREE.BoxGeometry(100,100,100);
	var cover = new THREE.MeshBasicMaterial({color: 0x049ef4});
	var ball1 = new THREE.Mesh(shape, cover);
  ball1.position.set(-200,0,0);
	scene.add(ball1);

  var ball2 = new THREE.Mesh(shape, cover);
  ball2.position.set(+200,0,0);
  scene.add(ball2);



// Szene darstellen

	renderer.render(scene, camera);

// Animation hinzufügen


  var clock = new THREE.Clock();
  var counter = 0;
  var t_alt = 0;
  var delta_t = 0;
  var max_delta_t = 0;
  var min_delta_t = 1000;

  var meter = 100;
  const g_pluto = 0.62 * meter;
  const g_mond = 1.62 * meter;
  const g_mars = 3.71 * meter;
  const g_ausgedacht = 6.12 * meter;
  const g_venus = 8.87 * meter;
  const g_erde = 9.81 * meter;
  const g_neptun = 11.15 * meter;

  var g_const = g_neptun;
  var Hoehe = 3 * meter;


  // Debugging Informationen
  console.log("meter: " + meter + " g: " + 
    g_const + " h: " + Hoehe)
  
  animate();

  function empty(elem) {
    while (elem.lastChild) elem.removeChild(elem.lastChild);
  }


// Funktionen

  function animate() {
    
    if (counter < 1000) requestAnimationFrame(animate);
    
    var t = clock.getElapsedTime();

    // Ball1
    y1 = Hoehe - 0.5 * g_const * Math.pow(t,2);
    ball1.position.y = y1

    // Ball2
    y2 = Hoehe - 0.5 * g_const * Math.pow(t,2);
    ball2.position.y = y2




    //if (counter % 2 == 0) renderer.render(scene, camera);
    renderer.render(scene, camera);

    // Messungen
    
    delta_t = t - t_alt;
    if (counter > 1) {
      if (max_delta_t < delta_t) max_delta_t = delta_t;
      if (min_delta_t > delta_t) min_delta_t = delta_t;
    }
    
    counter++;
    console.log(counter + " " + (delta_t * 1000) + " " + min_delta_t + " " + max_delta_t + " " + t/counter*1000);
    t_alt = t;
  }

</script>

</html>